{"ast":null,"code":"var _jsxFileName = \"C:\\\\PRAGATI\\\\Customize-First Choice\\\\FrontEnd\\\\src\\\\components\\\\Payment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport '../Payment.css';\nimport { useStateValue } from './Stateprovider';\nimport FinalView from './FinalView.js';\nimport { Link } from 'react-router-dom';\nimport { getBasketTotal } from './reducer';\nimport { Container } from 'react-bootstrap';\nimport Logo from '../assets/img/Logo.png';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Payment() {\n  _s();\n\n  const history = useNavigate();\n  const [{\n    basket\n  }, dispatch] = useStateValue();\n  const [data, setData] = useState(\"\");\n  let sign = JSON.parse(localStorage.getItem('data1'));\n\n  const order = async () => {\n    if (sign != null) {\n      console.log(sign.uid);\n\n      if (sign.wallet < getBasketTotal(basket)) {\n        alert(\"Insufficient Balance\");\n        window.location.href = \"/addmoney\";\n      } else {\n        let ProductsQuantity = [];\n        basket.map(async product => {\n          ProductsQuantity = [...ProductsQuantity, {\n            \"product_id\": product.pid,\n            \"quantity\": product.quantity\n          }];\n        });\n        const reqData = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            address: sign.u_address,\n            o_phone: sign.u_phone,\n            u_id: sign.u_id,\n            totalprice: getBasketTotal(basket).toString(),\n            productsQuantity: ProductsQuantity\n          })\n        };\n        console.log(sign);\n        console.log(reqData);\n        await fetch(process.env.REACT_APP_BASE_URL + \"/saveMyOrder\", reqData).then(resp => resp.json()).then(data => setData(data));\n        history('/placed');\n      }\n    } else {\n      alert(\"Please Login First\");\n      window.location.href = \"/login\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"login_img\",\n            src: Logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        className: \"mb-3\",\n        children: [\"Checkout - Total Products - \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/checkout\",\n          className: \"headerLink\",\n          children: basket === null || basket === void 0 ? void 0 : basket.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 49\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment_section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment_title\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Delivery Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment_address\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: !sign ? 'Guest' : sign.ufname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: !sign ? 'Ahmednagar' : sign.uaddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment_section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment_title\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Review items and Delivery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment_items\",\n          children: basket.map(item => /*#__PURE__*/_jsxDEV(FinalView, {\n            id: item.pid,\n            title: item.pname,\n            image: item.imageUrl ? item.imageUrl : item.pimage,\n            price: item.pprice,\n            rating: item.prating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment_section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment_title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Total Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: getBasketTotal(basket)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment_details\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: order,\n            className: \"addToCartBtn\",\n            children: \"Place Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Payment, \"wR3p6e91PScBQval+vf3GGUHnd8=\", false, function () {\n  return [useNavigate, useStateValue];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["C:/PRAGATI/Customize-First Choice/FrontEnd/src/components/Payment.js"],"names":["React","useState","useStateValue","FinalView","Link","getBasketTotal","Container","Logo","useNavigate","Payment","history","basket","dispatch","data","setData","sign","JSON","parse","localStorage","getItem","order","console","log","uid","wallet","alert","window","location","href","ProductsQuantity","map","product","pid","quantity","reqData","method","headers","body","stringify","address","u_address","o_phone","u_phone","u_id","totalprice","toString","productsQuantity","fetch","process","env","REACT_APP_BASE_URL","then","resp","json","textAlign","fontSize","fontWeight","length","ufname","uaddress","item","pname","imageUrl","pimage","pprice","prating"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport '../Payment.css';\r\nimport { useStateValue } from './Stateprovider';\r\nimport FinalView from './FinalView.js';\r\nimport { Link } from 'react-router-dom';\r\nimport { getBasketTotal } from './reducer';\r\nimport { Container } from 'react-bootstrap';\r\nimport Logo from '../assets/img/Logo.png';\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nfunction Payment() {\r\n    const history=useNavigate();\r\n    const [{ basket }, dispatch] = useStateValue();\r\n    const [data, setData] = useState(\"\");\r\n    let sign = JSON.parse(localStorage.getItem('data1'));\r\n    const order = async () => {\r\n        if (sign != null) {\r\n            console.log(sign.uid);\r\n            if (sign.wallet < getBasketTotal(basket)) {\r\n                alert(\"Insufficient Balance\");\r\n                window.location.href = \"/addmoney\";\r\n            }\r\n            else {\r\n                let ProductsQuantity = []\r\n                basket.map(async product => {\r\n                    ProductsQuantity = [...ProductsQuantity, { \"product_id\": product.pid, \"quantity\": product.quantity }]\r\n                })\r\n                const reqData = {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        address: sign.u_address,\r\n                        o_phone: sign.u_phone,\r\n                        u_id: sign.u_id,\r\n                        totalprice: getBasketTotal(basket).toString(),\r\n                        productsQuantity: ProductsQuantity\r\n                    })\r\n                };\r\n                console.log(sign);\r\n                console.log(reqData);\r\n                await fetch(process.env.REACT_APP_BASE_URL + \"/saveMyOrder\", reqData)\r\n                    .then(resp => resp.json())\r\n                    .then(data => setData(data));\r\n                    history('/placed')\r\n               \r\n            }\r\n        }\r\n        else {\r\n            alert(\"Please Login First\");\r\n            window.location.href = \"/login\";\r\n        }\r\n    }\r\n    return (\r\n        <div className='payment'>\r\n            <div className='payment_container'>\r\n                {/*Delivery address*/}\r\n                {/* <h1>\r\n                    Checkout(\r\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\r\n                    )\r\n                </h1> */}\r\n                <div style={{ textAlign: \"center\" }}>\r\n                    <Link to=\"/\"><img className='login_img' src={Logo} alt='logo' /></Link>\r\n\r\n                </div>\r\n                <div style={{ textAlign: \"center\", fontSize: \"18px\", fontWeight: \"bold\" }} className='mb-3'>\r\n                    Checkout - Total Products - <Link to=\"/checkout\" className=\"headerLink\">{basket?.length}</Link>\r\n\r\n                </div>\r\n                <div className='payment_section'>\r\n                    <div className='payment_title'>\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className='payment_address'>\r\n                        <p>{!sign ? 'Guest' : sign.ufname}</p>\r\n                        <p>{!sign ? 'Ahmednagar' : sign.uaddress}</p>\r\n                    </div>\r\n                </div>\r\n                {/*Review ITEms*/}\r\n                <div className='payment_section'>\r\n                    <div className='payment_title'>\r\n                        <h3>Review items and Delivery</h3>\r\n                    </div>\r\n                    <div className='payment_items'>\r\n                        {basket.map(item => (\r\n                            <FinalView id={item.pid}\r\n                                title={item.pname}\r\n                                image={item.imageUrl ? item.imageUrl : item.pimage}\r\n                                price={item.pprice}\r\n                                rating={item.prating}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                {/*Payment Method*/}\r\n                <div className='payment_section'>\r\n                    <div className='payment_title'>\r\n                        <h3>Total Amount</h3>\r\n                        <p>{getBasketTotal(basket)}</p>\r\n                    </div>\r\n                    <div className='payment_details'>\r\n                        <button onClick={order} className=\"addToCartBtn\">Place Order</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n"]},"metadata":{},"sourceType":"module"}